import { useState, type FormEvent } from 'react';
import { useNavigate, Navigate } from 'react-router-dom';
import { useAuthStore } from '../../store/authStore';
import './LoginPage.css';
import logoSvg from '../../assets/icons/logo.svg';
import lockSvg from '../../assets/icons/lock.svg';
import eyeOffSvg from '../../assets/icons/eye-off.svg';
import eyeSvg from '../../assets/icons/eye.svg';
import squareSvg from '../../assets/icons/square.svg';
import closeSvg from '../../assets/icons/close.svg';
import userIcon from '../../assets/icons/user.png';

export const LoginPage: React.FC = () => {
  const navigate = useNavigate();
  const login = useAuthStore((s) => s.login);
  const isLoading = useAuthStore((s) => s.isLoading);
  const error = useAuthStore((s) => s.error);
  const isAuthenticated = useAuthStore((s) => s.isAuthenticated);

  const [username, setUsername] = useState('');
  const [password, setPassword] = useState('');
  const [rememberMe, setRememberMe] = useState(false);
  const [showPassword, setShowPassword] = useState(false);
  const [touched, setTouched] = useState({ username: false, password: false });

  if (isAuthenticated) {
    return <Navigate to="/products" replace />;
  }

  const usernameError =
    touched.username && !username.trim() ? 'Введите логин' : '';
  const passwordError =
    touched.password && !password.trim() ? 'Введите пароль' : '';

  const handleSubmit = async (e: FormEvent) => {
    e.preventDefault();
    setTouched({ username: true, password: true });
    if (!username.trim() || !password.trim()) return;
    try {
      await login({ username: username.trim(), password }, rememberMe);
      navigate('/products');
    } catch {
      /* handled in store */
    }
  };

  return (
    <div className="login-page">
      <div className="login-outer">
        <div className="login-inner">
          {/* Logo */}
          <div className="login-logo">
            <img src={logoSvg} alt="Logo" width={35} height={34} />
          </div>

          {/* Heading — inline SVG with filters for pixel-perfect inner shadow */}
          <div className="login-heading">
            <h1 className="sr-only">Добро пожаловать!</h1>
            <svg className="login-title-svg" width="381" height="39" viewBox="0 0 381 39" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <defs>
                <filter id="titleInnerShadow" x="0" y="0" width="380.091" height="38.0682" filterUnits="userSpaceOnUse" colorInterpolationFilters="sRGB">
                  <feFlood floodOpacity="0" result="BackgroundImageFix"/>
                  <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                  <feOffset dy="-2"/>
                  <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                  <feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.12 0"/>
                  <feBlend mode="normal" in2="shape" result="effect1_innerShadow"/>
                </filter>
              </defs>
              <g filter="url(#titleInnerShadow)">
                <path d="M2.639e-05 36.9034V25.5824H1.94605C2.59946 25.0615 3.21025 24.3276 3.77844 23.3807C4.34662 22.4337 4.82957 21.1364 5.2273 19.4886C5.62503 17.8409 5.89965 15.7102 6.05116 13.0966L6.81821 0.795443H25.412V25.5824H28.6506V36.875H23.5938V29.8864H5.05684V36.9034H2.639e-05ZM8.08241 25.5824H20.3551V5.21306H11.5625L11.108 13.0966C10.9849 15.0757 10.786 16.8466 10.5114 18.4091C10.2368 19.9716 9.89113 21.3494 9.47446 22.5426C9.05779 23.7263 8.59378 24.7396 8.08241 25.5824ZM41.6337 30.3125C39.503 30.3125 37.6564 29.8437 36.0939 28.9062C34.5314 27.9687 33.3193 26.6572 32.4576 24.9716C31.6053 23.286 31.1791 21.3163 31.1791 19.0625C31.1791 16.8087 31.6053 14.8343 32.4576 13.1392C33.3193 11.4441 34.5314 10.1278 36.0939 9.19033C37.6564 8.25283 39.503 7.78408 41.6337 7.78408C43.7644 7.78408 45.611 8.25283 47.1735 9.19033C48.736 10.1278 49.9434 11.4441 50.7956 13.1392C51.6574 14.8343 52.0882 16.8087 52.0882 19.0625C52.0882 21.3163 51.6574 23.286 50.7956 24.9716C49.9434 26.6572 48.736 27.9687 47.1735 28.9062C45.611 29.8437 43.7644 30.3125 41.6337 30.3125ZM41.6621 26.1932C42.8174 26.1932 43.7833 25.8759 44.5598 25.2415C45.3363 24.5975 45.914 23.7358 46.2928 22.6562C46.681 21.5767 46.8752 20.374 46.8752 19.0483C46.8752 17.7131 46.681 16.5057 46.2928 15.4261C45.914 14.3371 45.3363 13.4706 44.5598 12.8267C43.7833 12.1828 42.8174 11.8608 41.6621 11.8608C40.4784 11.8608 39.4935 12.1828 38.7076 12.8267C37.931 13.4706 37.3487 14.3371 36.9604 15.4261C36.5816 16.5057 36.3922 17.7131 36.3922 19.0483C36.3922 20.374 36.5816 21.5767 36.9604 22.6562C37.3487 23.7358 37.931 24.5975 38.7076 25.2415C39.4935 25.8759 40.4784 26.1932 41.6621 26.1932ZM73.3384 -1.23978e-05L75.1282 3.32385C74.4937 3.87309 73.7835 4.27082 72.9975 4.51703C72.2115 4.76325 71.2882 4.92423 70.2276 4.99999C69.1764 5.06628 67.9264 5.11362 66.4776 5.14203C64.8488 5.17991 63.5183 5.48768 62.4861 6.06533C61.4539 6.64298 60.6632 7.51893 60.1139 8.69317C59.5647 9.85794 59.2049 11.3447 59.0344 13.1534H59.2759C59.9577 11.8182 60.9141 10.8002 62.1452 10.0994C63.3763 9.39866 64.8204 9.04828 66.4776 9.04828C68.2863 9.04828 69.8819 9.45548 71.2645 10.2699C72.6566 11.0748 73.7408 12.2443 74.5174 13.7784C75.3033 15.3125 75.6963 17.1685 75.6963 19.3466C75.6963 21.5909 75.2749 23.5369 74.4321 25.1846C73.5893 26.8229 72.3914 28.0871 70.8384 28.9773C69.2948 29.8674 67.4624 30.3125 65.3412 30.3125C63.2295 30.3125 61.3924 29.8532 59.8299 28.9346C58.2768 28.0066 57.0742 26.6382 56.2219 24.8295C55.3791 23.0114 54.9577 20.7718 54.9577 18.1108V16.1506C54.9577 11.018 55.9141 7.18749 57.827 4.65908C59.7399 2.13067 62.5761 0.842791 66.3355 0.795443C67.453 0.776503 68.452 0.771768 69.3327 0.781238C70.2228 0.790708 70.9994 0.748094 71.6622 0.653398C72.3251 0.558701 72.8838 0.340898 73.3384 -1.23978e-05ZM65.3696 26.1932C66.4208 26.1932 67.3299 25.9233 68.0969 25.3835C68.8639 24.8343 69.4511 24.0578 69.8583 23.054C70.2749 22.0502 70.4833 20.8617 70.4833 19.4886C70.4833 18.1345 70.2749 16.9839 69.8583 16.0369C69.4416 15.0805 68.8497 14.3513 68.0827 13.8494C67.3157 13.3475 66.4018 13.0966 65.3412 13.0966C64.5458 13.0966 63.8308 13.2386 63.1963 13.5227C62.5619 13.8068 62.0221 14.2235 61.577 14.7727C61.1319 15.322 60.791 15.9896 60.5543 16.7756C60.3175 17.5615 60.1897 18.4659 60.1708 19.4886C60.1708 21.5435 60.6348 23.1771 61.5628 24.3892C62.4908 25.5918 63.7598 26.1932 65.3696 26.1932ZM79.4713 38.0682V8.06817H84.5281V11.6761H84.8264C85.0916 11.1458 85.4656 10.5824 85.9486 9.98578C86.4316 9.37972 87.085 8.86362 87.9088 8.43749C88.7327 8.00188 89.7838 7.78408 91.0622 7.78408C92.7478 7.78408 94.2677 8.21495 95.6219 9.07669C96.9855 9.92897 98.0651 11.1932 98.8605 12.8693C99.6655 14.536 100.068 16.5814 100.068 19.0057C100.068 21.4015 99.6749 23.4375 98.8889 25.1136C98.103 26.7898 97.0329 28.0682 95.6787 28.9489C94.3246 29.8295 92.7905 30.2699 91.0764 30.2699C89.8264 30.2699 88.7895 30.0615 87.9656 29.6449C87.1418 29.2282 86.4789 28.7263 85.977 28.1392C85.4846 27.5426 85.1011 26.9792 84.8264 26.4489H84.6134V38.0682H79.4713ZM84.5139 18.9773C84.5139 20.3882 84.7128 21.624 85.1105 22.6846C85.5177 23.7453 86.1001 24.5739 86.8577 25.1704C87.6247 25.7576 88.5528 26.0511 89.6418 26.0511C90.7781 26.0511 91.7299 25.7481 92.4969 25.142C93.2639 24.5265 93.8416 23.6884 94.2299 22.6278C94.6276 21.5578 94.8264 20.3409 94.8264 18.9773C94.8264 17.6231 94.6323 16.4204 94.2441 15.3693C93.8558 14.3182 93.2781 13.4943 92.5111 12.8977C91.7441 12.3011 90.7876 12.0028 89.6418 12.0028C88.5433 12.0028 87.6105 12.2917 86.8435 12.8693C86.0764 13.447 85.4941 14.2566 85.0963 15.2983C84.7081 16.34 84.5139 17.5663 84.5139 18.9773ZM113.388 30.3125C111.258 30.3125 109.411 29.8437 107.849 28.9062C106.286 27.9687 105.074 26.6572 104.212 24.9716C103.36 23.286 102.934 21.3163 102.934 19.0625C102.934 16.8087 103.36 14.8343 104.212 13.1392C105.074 11.4441 106.286 10.1278 107.849 9.19033C109.411 8.25283 111.258 7.78408 113.388 7.78408C115.519 7.78408 117.366 8.25283 118.928 9.19033C120.491 10.1278 121.698 11.4441 122.55 13.1392C123.412 14.8343 123.843 16.8087 123.843 19.0625C123.843 21.3163 123.412 23.286 122.55 24.9716C121.698 26.6572 120.491 27.9687 118.928 28.9062C117.366 29.8437 115.519 30.3125 113.388 30.3125ZM113.417 26.1932C114.572 26.1932 115.538 25.8759 116.315 25.2415C117.091 24.5975 117.669 23.7358 118.047 22.6562C118.436 21.5767 118.63 20.374 118.63 19.0483C118.63 17.7131 118.436 16.5057 118.047 15.4261C117.669 14.3371 117.091 13.4706 116.315 12.8267C115.538 12.1828 114.572 11.8608 113.417 11.8608C112.233 11.8608 111.248 12.1828 110.462 12.8267C109.686 13.4706 109.103 14.3371 108.715 15.4261C108.336 16.5057 108.147 17.7131 108.147 19.0483C108.147 20.374 108.336 21.5767 108.715 22.6562C109.103 23.7358 109.686 24.5975 110.462 25.2415C111.248 25.8759 112.233 26.1932 113.417 26.1932ZM136.929 29.8864V8.06817H155.352V29.8864H150.395V12.2869H141.844V29.8864H136.929ZM169.557 30.3125C167.426 30.3125 165.58 29.8437 164.017 28.9062C162.455 27.9687 161.243 26.6572 160.381 24.9716C159.529 23.286 159.103 21.3163 159.103 19.0625C159.103 16.8087 159.529 14.8343 160.381 13.1392C161.243 11.4441 162.455 10.1278 164.017 9.19033C165.58 8.25283 167.426 7.78408 169.557 7.78408C171.688 7.78408 173.534 8.25283 175.097 9.19033C176.659 10.1278 177.867 11.4441 178.719 13.1392C179.581 14.8343 180.012 16.8087 180.012 19.0625C180.012 21.3163 179.581 23.286 178.719 24.9716C177.867 26.6572 176.659 27.9687 175.097 28.9062C173.534 29.8437 171.688 30.3125 169.557 30.3125ZM169.586 26.1932C170.741 26.1932 171.707 25.8759 172.483 25.2415C173.26 24.5975 173.837 23.7358 174.216 22.6562C174.604 21.5767 174.799 20.374 174.799 19.0483C174.799 17.7131 174.604 16.5057 174.216 15.4261C173.837 14.3371 173.26 13.4706 172.483 12.8267C171.707 12.1828 170.741 11.8608 169.586 11.8608C168.402 11.8608 167.417 12.1828 166.631 12.8267C165.854 13.4706 165.272 14.3371 164.884 15.4261C164.505 16.5057 164.316 17.7131 164.316 19.0483C164.316 20.374 164.505 21.5767 164.884 22.6562C165.272 23.7358 165.854 24.5975 166.631 25.2415C167.417 25.8759 168.402 26.1932 169.586 26.1932ZM181.535 29.8864L189.589 18.6221L181.606 8.06817H187.544L193.751 16.8608H194.973V8.06817H200.115V16.8608H201.308L207.515 8.06817H213.453L205.513 18.6221L213.524 29.8864H207.459L201.251 21.0795H200.115V29.8864H194.973V21.0795H193.836L187.601 29.8864H181.535ZM222.97 30.3267C221.587 30.3267 220.342 30.0805 219.234 29.5881C218.136 29.0862 217.265 28.3475 216.621 27.3721C215.986 26.3968 215.669 25.1941 215.669 23.7642C215.669 22.5331 215.896 21.5151 216.351 20.7102C216.805 19.9053 217.426 19.2614 218.212 18.7784C218.998 18.2954 219.883 17.9309 220.868 17.6846C221.862 17.429 222.89 17.2443 223.95 17.1307C225.229 16.9981 226.266 16.8797 227.061 16.7756C227.856 16.6619 228.434 16.4915 228.794 16.2642C229.163 16.0275 229.348 15.6629 229.348 15.1704V15.0852C229.348 14.0151 229.031 13.1865 228.396 12.5994C227.762 12.0123 226.848 11.7187 225.655 11.7187C224.395 11.7187 223.396 11.9934 222.658 12.5426C221.928 13.0918 221.436 13.7405 221.18 14.4886L216.379 13.8068C216.758 12.481 217.383 11.3731 218.254 10.4829C219.125 9.58332 220.191 8.91097 221.45 8.4659C222.71 8.01135 224.102 7.78408 225.626 7.78408C226.677 7.78408 227.724 7.90719 228.766 8.1534C229.807 8.39961 230.759 8.80681 231.621 9.37499C232.482 9.9337 233.174 10.696 233.694 11.6619C234.225 12.6278 234.49 13.8352 234.49 15.2841V29.8864H229.547V26.8892H229.376C229.064 27.4953 228.623 28.0634 228.055 28.5937C227.497 29.1146 226.791 29.536 225.939 29.8579C225.096 30.1704 224.106 30.3267 222.97 30.3267ZM224.305 26.5483C225.337 26.5483 226.232 26.3447 226.99 25.9375C227.748 25.5208 228.33 24.9716 228.737 24.2898C229.154 23.6079 229.362 22.8646 229.362 22.0596V19.4886C229.201 19.6212 228.927 19.7443 228.538 19.8579C228.159 19.9716 227.733 20.071 227.26 20.1562C226.786 20.2415 226.318 20.3172 225.854 20.3835C225.39 20.4498 224.987 20.5066 224.646 20.554C223.879 20.6581 223.193 20.8286 222.587 21.0653C221.98 21.3021 221.502 21.6335 221.152 22.0596C220.802 22.4763 220.626 23.0161 220.626 23.679C220.626 24.6259 220.972 25.3409 221.663 25.8239C222.355 26.3068 223.235 26.5483 224.305 26.5483ZM237.555 29.8864L237.526 25.6534H238.279C238.847 25.6534 239.326 25.5256 239.714 25.2699C240.102 25.0142 240.424 24.5881 240.68 23.9915C240.935 23.3854 241.134 22.571 241.276 21.5483C241.418 20.5256 241.518 19.2519 241.575 17.7273L241.958 8.06817H257.867V29.8864H252.896V12.2869H246.631L246.291 19.3182C246.205 21.1364 246.002 22.7131 245.68 24.0483C245.367 25.374 244.922 26.4678 244.344 27.3295C243.776 28.1913 243.061 28.8352 242.2 29.2614C241.338 29.678 240.32 29.8864 239.146 29.8864H237.555ZM271.962 30.3125C269.831 30.3125 267.985 29.8437 266.422 28.9062C264.86 27.9687 263.647 26.6572 262.786 24.9716C261.933 23.286 261.507 21.3163 261.507 19.0625C261.507 16.8087 261.933 14.8343 262.786 13.1392C263.647 11.4441 264.86 10.1278 266.422 9.19033C267.985 8.25283 269.831 7.78408 271.962 7.78408C274.093 7.78408 275.939 8.25283 277.502 9.19033C279.064 10.1278 280.271 11.4441 281.124 13.1392C281.986 14.8343 282.416 16.8087 282.416 19.0625C282.416 21.3163 281.986 23.286 281.124 24.9716C280.271 26.6572 279.064 27.9687 277.502 28.9062C275.939 29.8437 274.093 30.3125 271.962 30.3125ZM271.99 26.1932C273.146 26.1932 274.111 25.8759 274.888 25.2415C275.664 24.5975 276.242 23.7358 276.621 22.6562C277.009 21.5767 277.203 20.374 277.203 19.0483C277.203 17.7131 277.009 16.5057 276.621 15.4261C276.242 14.3371 275.664 13.4706 274.888 12.8267C274.111 12.1828 273.146 11.8608 271.99 11.8608C270.807 11.8608 269.822 12.1828 269.036 12.8267C268.259 13.4706 267.677 14.3371 267.289 15.4261C266.91 16.5057 266.72 17.7131 266.72 19.0483C266.72 20.374 266.91 21.5767 267.289 22.6562C267.677 23.7358 268.259 24.5975 269.036 25.2415C269.822 25.8759 270.807 26.1932 271.99 26.1932ZM286.181 29.8864V8.06817H295.343C297.928 8.06817 299.969 8.58427 301.465 9.61647C302.97 10.6487 303.723 12.0881 303.723 13.9346C303.723 15.1562 303.297 16.1553 302.445 16.9318C301.602 17.6989 300.452 18.215 298.993 18.4801C300.139 18.5748 301.143 18.8636 302.005 19.3466C302.876 19.8295 303.558 20.464 304.05 21.25C304.542 22.036 304.789 22.9403 304.789 23.9631C304.789 25.1657 304.471 26.2121 303.837 27.1023C303.212 27.9829 302.298 28.6695 301.095 29.1619C299.902 29.6449 298.453 29.8864 296.749 29.8864H286.181ZM290.996 25.8381H296.749C297.696 25.8381 298.439 25.6155 298.979 25.1704C299.519 24.7159 299.789 24.1004 299.789 23.3239C299.789 22.4242 299.519 21.7187 298.979 21.2074C298.439 20.6865 297.696 20.4261 296.749 20.4261H290.996V25.8381ZM290.996 17.1023H295.442C296.143 17.1023 296.744 17.0028 297.246 16.804C297.748 16.5956 298.131 16.3068 298.397 15.9375C298.662 15.5587 298.794 15.1089 298.794 14.5881C298.794 13.84 298.487 13.2528 297.871 12.8267C297.265 12.4006 296.422 12.1875 295.343 12.1875H290.996V17.1023ZM314.711 30.3267C313.328 30.3267 312.083 30.0805 310.975 29.5881C309.876 29.0862 309.005 28.3475 308.361 27.3721C307.727 26.3968 307.41 25.1941 307.41 23.7642C307.41 22.5331 307.637 21.5151 308.091 20.7102C308.546 19.9053 309.166 19.2614 309.952 18.7784C310.738 18.2954 311.624 17.9309 312.608 17.6846C313.603 17.429 314.63 17.2443 315.691 17.1307C316.969 16.9981 318.006 16.8797 318.802 16.7756C319.597 16.6619 320.175 16.4915 320.535 16.2642C320.904 16.0275 321.089 15.6629 321.089 15.1704V15.0852C321.089 14.0151 320.771 13.1865 320.137 12.5994C319.502 12.0123 318.589 11.7187 317.395 11.7187C316.136 11.7187 315.137 11.9934 314.398 12.5426C313.669 13.0918 313.177 13.7405 312.921 14.4886L308.12 13.8068C308.499 12.481 309.124 11.3731 309.995 10.4829C310.866 9.58332 311.931 8.91097 313.191 8.4659C314.45 8.01135 315.842 7.78408 317.367 7.78408C318.418 7.78408 319.464 7.90719 320.506 8.1534C321.548 8.39961 322.5 8.80681 323.361 9.37499C324.223 9.9337 324.914 10.696 325.435 11.6619C325.965 12.6278 326.231 13.8352 326.231 15.2841V29.8864H321.287V26.8892H321.117C320.804 27.4953 320.364 28.0634 319.796 28.5937C319.237 29.1146 318.532 29.536 317.679 29.8579C316.837 30.1704 315.847 30.3267 314.711 30.3267ZM316.046 26.5483C317.078 26.5483 317.973 26.3447 318.731 25.9375C319.488 25.5208 320.071 24.9716 320.478 24.2898C320.894 23.6079 321.103 22.8646 321.103 22.0596V19.4886C320.942 19.6212 320.667 19.7443 320.279 19.8579C319.9 19.9716 319.474 20.071 319 20.1562C318.527 20.2415 318.058 20.3172 317.594 20.3835C317.13 20.4498 316.728 20.5066 316.387 20.554C315.62 20.6581 314.933 20.8286 314.327 21.0653C313.721 21.3021 313.243 21.6335 312.892 22.0596C312.542 22.4763 312.367 23.0161 312.367 23.679C312.367 24.6259 312.713 25.3409 313.404 25.8239C314.095 26.3068 314.976 26.5483 316.046 26.5483ZM328.358 12.2869V8.06817H347.449V12.2869H340.389V29.8864H335.418V12.2869H328.358ZM354.423 15.1704H360.858C363.642 15.1704 365.796 15.8475 367.321 17.2017C368.846 18.5559 369.613 20.3314 369.622 22.5284C369.613 23.9583 369.262 25.2273 368.571 26.3352C367.889 27.4432 366.895 28.3144 365.588 28.9489C364.291 29.5739 362.714 29.8864 360.858 29.8864H350.943V8.06817H355.901V25.6676H360.858C361.975 25.6676 362.894 25.3835 363.614 24.8153C364.333 24.2377 364.693 23.499 364.693 22.5994C364.693 21.6525 364.333 20.8807 363.614 20.2841C362.894 19.6875 361.975 19.3892 360.858 19.3892H354.423V15.1704ZM379.722 0.795443L379.253 21.3352H374.679L374.225 0.795443H379.722ZM376.966 30.1989C376.104 30.1989 375.366 29.8958 374.75 29.2898C374.144 28.6837 373.841 27.9451 373.841 27.0739C373.841 26.2216 374.144 25.4924 374.75 24.8864C375.366 24.2803 376.104 23.9773 376.966 23.9773C377.809 23.9773 378.538 24.2803 379.154 24.8864C379.779 25.4924 380.091 26.2216 380.091 27.0739C380.091 27.6515 379.944 28.1771 379.651 28.6506C379.367 29.124 378.988 29.5028 378.514 29.7869C378.05 30.0615 377.534 30.1989 376.966 30.1989Z" fill="#232323"/>
              </g>
            </svg>

            <p className="sr-only">Пожалуйста, авторизируйтесь</p>
            <svg className="login-subtitle-svg" width="272" height="17" viewBox="0 0 272 17" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <defs>
                <filter id="subtitleInnerShadow" x="0" y="0" width="271.208" height="20.8239" filterUnits="userSpaceOnUse" colorInterpolationFilters="sRGB">
                  <feFlood floodOpacity="0" result="BackgroundImageFix"/>
                  <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                  <feOffset dy="4"/>
                  <feGaussianBlur stdDeviation="2"/>
                  <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                  <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.17 0"/>
                  <feBlend mode="normal" in2="shape" result="effect1_innerShadow"/>
                </filter>
              </defs>
              <g filter="url(#subtitleInnerShadow)">
                <path d="M10.0994 0.0511498V13.1421H8.13068V1.73865H1.96874V13.1421H-5.43892e-06V0.0511498H10.0994ZM17.1019 13.3402C16.1815 13.3402 15.3782 13.1293 14.6921 12.7074C14.006 12.2855 13.4734 11.6953 13.0941 10.9368C12.7148 10.1783 12.5252 9.29192 12.5252 8.27771C12.5252 7.25925 12.7148 6.36862 13.0941 5.60584C13.4734 4.84305 14.006 4.25072 14.6921 3.82885C15.3782 3.40697 16.1815 3.19604 17.1019 3.19604C18.0224 3.19604 18.8256 3.40697 19.5117 3.82885C20.1978 4.25072 20.7305 4.84305 21.1097 5.60584C21.489 6.36862 21.6786 7.25925 21.6786 8.27771C21.6786 9.29192 21.489 10.1783 21.1097 10.9368C20.7305 11.6953 20.1978 12.2855 19.5117 12.7074C18.8256 13.1293 18.0224 13.3402 17.1019 13.3402ZM17.1083 11.7358C17.7049 11.7358 18.1992 11.5781 18.5913 11.2628C18.9833 10.9475 19.2731 10.5277 19.4606 10.0036C19.6523 9.47942 19.7482 8.902 19.7482 8.27132C19.7482 7.6449 19.6523 7.06962 19.4606 6.54547C19.2731 6.01706 18.9833 5.59305 18.5913 5.27345C18.1992 4.95385 17.7049 4.79405 17.1083 4.79405C16.5075 4.79405 16.0089 4.95385 15.6126 5.27345C15.2205 5.59305 14.9286 6.01706 14.7369 6.54547C14.5494 7.06962 14.4556 7.6449 14.4556 8.27132C14.4556 8.902 14.5494 9.47942 14.7369 10.0036C14.9286 10.5277 15.2205 10.9475 15.6126 11.2628C16.0089 11.5781 16.5075 11.7358 17.1083 11.7358ZM22.7988 13.1421L26.6021 8.11791L22.8436 3.32388H25.068L28.1042 7.402H28.7882V3.32388H30.6994V7.402H31.3642L34.4004 3.32388H36.6248L32.8855 8.11791L36.6696 13.1421H34.4004L31.3386 9.05115H30.6994V13.1421H28.7882V9.05115H28.149L25.068 13.1421H22.7988ZM41.4524 13.3594C40.8303 13.3594 40.2678 13.2443 39.7649 13.0142C39.2621 12.7798 38.8636 12.4411 38.5696 11.9979C38.2798 11.5547 38.1349 11.0114 38.1349 10.3679C38.1349 9.81393 38.2415 9.35797 38.4545 9.00001C38.6676 8.64206 38.9553 8.35868 39.3175 8.14987C39.6797 7.94107 40.0845 7.78339 40.532 7.67686C40.9794 7.57033 41.4354 7.48936 41.8999 7.43396C42.4879 7.36578 42.9652 7.31038 43.3317 7.26777C43.6981 7.22089 43.9645 7.14632 44.1307 7.04405C44.2969 6.94178 44.38 6.77558 44.38 6.54547V6.50072C44.38 5.94249 44.2223 5.50996 43.907 5.20314C43.5959 4.89632 43.1314 4.74291 42.5135 4.74291C41.87 4.74291 41.3629 4.88567 40.9922 5.17118C40.6257 5.45243 40.3722 5.76564 40.2315 6.11081L38.4354 5.70172C38.6484 5.10513 38.9595 4.62359 39.3686 4.25712C39.782 3.88638 40.2571 3.61791 40.794 3.45172C41.331 3.28126 41.8956 3.19604 42.4879 3.19604C42.88 3.19604 43.2954 3.24291 43.7344 3.33666C44.1776 3.42615 44.5909 3.59234 44.9744 3.83524C45.3622 4.07814 45.6797 4.42544 45.9268 4.87714C46.174 5.32459 46.2976 5.90626 46.2976 6.62217V13.1421H44.4311V11.7997H44.3544C44.2308 12.0469 44.0454 12.2898 43.7983 12.5284C43.5511 12.7671 43.2337 12.9652 42.8459 13.1229C42.4581 13.2806 41.9936 13.3594 41.4524 13.3594ZM41.8679 11.8253C42.3963 11.8253 42.848 11.7209 43.223 11.5121C43.6023 11.3033 43.8899 11.0306 44.0859 10.6939C44.2862 10.353 44.3864 9.98865 44.3864 9.60087V8.33524C44.3182 8.40342 44.1861 8.46734 43.9901 8.527C43.7983 8.5824 43.5788 8.63141 43.3317 8.67402C43.0845 8.71237 42.8437 8.74859 42.6094 8.78268C42.375 8.81251 42.179 8.83808 42.0213 8.85939C41.6506 8.90626 41.3118 8.9851 41.005 9.09589C40.7024 9.20669 40.4595 9.36649 40.2763 9.5753C40.0973 9.77984 40.0078 10.0526 40.0078 10.3935C40.0078 10.8665 40.1825 11.2244 40.532 11.4673C40.8814 11.706 41.3267 11.8253 41.8679 11.8253ZM48.0698 13.1421L48.0634 11.4865H48.4149C48.6877 11.4865 48.9157 11.429 49.0989 11.3139C49.2864 11.1946 49.4398 10.9943 49.5591 10.7131C49.6784 10.4318 49.7701 10.044 49.834 9.54973C49.8979 9.05115 49.9448 8.42473 49.9746 7.67047L50.1472 3.32388H56.9995V13.1421H55.1266V4.97302H51.9178L51.7644 8.30967C51.726 9.11933 51.6429 9.82672 51.5151 10.4318C51.3915 11.0369 51.2104 11.5419 50.9718 11.9467C50.7331 12.3473 50.4263 12.6477 50.0513 12.848C49.6763 13.044 49.2203 13.1421 48.6834 13.1421H48.0698ZM60.4048 16.8239C60.1193 16.8239 59.8594 16.8004 59.625 16.7536C59.3906 16.711 59.2159 16.6641 59.1008 16.6129L59.5611 15.0469C59.9105 15.1406 60.2216 15.1811 60.4943 15.1683C60.767 15.1556 61.0078 15.0533 61.2166 14.8615C61.4297 14.6698 61.6172 14.3565 61.7791 13.9219L62.0156 13.2699L58.4233 3.32388H60.4687L62.9553 10.9432H63.0575L65.544 3.32388H67.5959L63.5497 14.4524C63.3622 14.9638 63.1236 15.3963 62.8338 15.75C62.544 16.108 62.1989 16.3764 61.7983 16.5554C61.3977 16.7344 60.9332 16.8239 60.4048 16.8239ZM71.2649 10.4638L75.5923 3.32388H77.6506V13.1421H75.7777V5.99575L71.4695 13.1421H69.392V3.32388H71.2649V10.4638ZM74.7741 1.29938e-05H76.3466C76.3466 0.720184 76.0909 1.30612 75.5795 1.75783C75.0724 2.20527 74.3864 2.42899 73.5213 2.42899C72.6605 2.42899 71.9766 2.20527 71.4695 1.75783C70.9624 1.30612 70.7088 0.720184 70.7088 1.29938e-05H72.2749C72.2749 0.319616 72.3686 0.602996 72.5561 0.850155C72.7436 1.09305 73.0653 1.2145 73.5213 1.2145C73.9687 1.2145 74.2883 1.09305 74.4801 0.850155C74.6761 0.607258 74.7741 0.323877 74.7741 1.29938e-05ZM84.3558 13.3402C83.4055 13.3402 82.5874 13.125 81.9013 12.6946C81.2195 12.26 80.6953 11.6612 80.3288 10.8985C79.9624 10.1357 79.7791 9.26209 79.7791 8.27771C79.7791 7.28055 79.9666 6.40058 80.3416 5.6378C80.7166 4.87075 81.245 4.27203 81.9268 3.84163C82.6087 3.41124 83.4119 3.19604 84.3366 3.19604C85.0824 3.19604 85.7472 3.33453 86.331 3.61152C86.9148 3.88425 87.3856 4.26777 87.7436 4.76209C88.1058 5.25641 88.321 5.83382 88.3892 6.49433H86.5291C86.4268 6.0341 86.1925 5.6378 85.826 5.30541C85.4638 4.97303 84.978 4.80683 84.3686 4.80683C83.8359 4.80683 83.3693 4.94746 82.9687 5.22871C82.5724 5.5057 82.2635 5.902 82.0419 6.41763C81.8203 6.92899 81.7095 7.5341 81.7095 8.23297C81.7095 8.94888 81.8182 9.56678 82.0355 10.0867C82.2528 10.6065 82.5597 11.0092 82.956 11.2948C83.3565 11.5803 83.8274 11.723 84.3686 11.723C84.7308 11.723 85.0589 11.657 85.353 11.5249C85.6513 11.3885 85.9006 11.1946 86.1008 10.9432C86.3054 10.6918 86.4481 10.3892 86.5291 10.0355H88.3892C88.321 10.6705 88.1143 11.2372 87.7692 11.7358C87.424 12.2344 86.9616 12.6264 86.3821 12.9119C85.8068 13.1975 85.1314 13.3402 84.3558 13.3402ZM89.69 4.97302V3.32388H97.9741V4.97302H94.7717V13.1421H92.9052V4.97302H89.69ZM102.396 13.3594C101.774 13.3594 101.211 13.2443 100.708 13.0142C100.205 12.7798 99.807 12.4411 99.513 11.9979C99.2232 11.5547 99.0783 11.0114 99.0783 10.3679C99.0783 9.81393 99.1848 9.35797 99.3979 9.00001C99.611 8.64206 99.8986 8.35868 100.261 8.14987C100.623 7.94107 101.028 7.78339 101.475 7.67686C101.923 7.57033 102.379 7.48936 102.843 7.43396C103.431 7.36578 103.909 7.31038 104.275 7.26777C104.642 7.22089 104.908 7.14632 105.074 7.04405C105.24 6.94178 105.323 6.77558 105.323 6.54547V6.50072C105.323 5.94249 105.166 5.50996 104.85 5.20314C104.539 4.89632 104.075 4.74291 103.457 4.74291C102.813 4.74291 102.306 4.88567 101.936 5.17118C101.569 5.45243 101.316 5.76564 101.175 6.11081L99.3787 5.70172C99.5918 5.10513 99.9029 4.62359 100.312 4.25712C100.725 3.88638 101.2 3.61791 101.737 3.45172C102.274 3.28126 102.839 3.19604 103.431 3.19604C103.823 3.19604 104.239 3.24291 104.678 3.33666C105.121 3.42615 105.534 3.59234 105.918 3.83524C106.306 4.07814 106.623 4.42544 106.87 4.87714C107.117 5.32459 107.241 5.90626 107.241 6.62217V13.1421H105.374V11.7997H105.298C105.174 12.0469 104.989 12.2898 104.742 12.5284C104.494 12.7671 104.177 12.9652 103.789 13.1229C103.401 13.2806 102.937 13.3594 102.396 13.3594ZM102.811 11.8253C103.34 11.8253 103.791 11.7209 104.166 11.5121C104.546 11.3033 104.833 11.0306 105.029 10.6939C105.23 10.353 105.33 9.98865 105.33 9.60087V8.33524C105.262 8.40342 105.129 8.46734 104.933 8.527C104.742 8.5824 104.522 8.63141 104.275 8.67402C104.028 8.71237 103.787 8.74859 103.553 8.78268C103.318 8.81251 103.122 8.83808 102.965 8.85939C102.594 8.90626 102.255 8.9851 101.948 9.09589C101.646 9.20669 101.403 9.36649 101.22 9.5753C101.041 9.77984 100.951 10.0526 100.951 10.3935C100.951 10.8665 101.126 11.2244 101.475 11.4673C101.825 11.706 102.27 11.8253 102.811 11.8253ZM112.273 11.3523L112.177 12.049C112.113 12.5604 112.005 13.0931 111.851 13.647C111.702 14.2053 111.547 14.723 111.385 15.2003C111.227 15.6776 111.097 16.0568 110.995 16.3381H109.64C109.695 16.0739 109.772 15.7159 109.87 15.2642C109.968 14.8168 110.064 14.3161 110.157 13.7621C110.251 13.2081 110.321 12.6435 110.368 12.0682L110.432 11.3523H112.273ZM122.382 13.3594C121.76 13.3594 121.197 13.2443 120.695 13.0142C120.192 12.7798 119.793 12.4411 119.499 11.9979C119.21 11.5547 119.065 11.0114 119.065 10.3679C119.065 9.81393 119.171 9.35797 119.384 9.00001C119.597 8.64206 119.885 8.35868 120.247 8.14987C120.609 7.94107 121.014 7.78339 121.462 7.67686C121.909 7.57033 122.365 7.48936 122.83 7.43396C123.418 7.36578 123.895 7.31038 124.261 7.26777C124.628 7.22089 124.894 7.14632 125.06 7.04405C125.227 6.94178 125.31 6.77558 125.31 6.54547V6.50072C125.31 5.94249 125.152 5.50996 124.837 5.20314C124.526 4.89632 124.061 4.74291 123.443 4.74291C122.8 4.74291 122.293 4.88567 121.922 5.17118C121.555 5.45243 121.302 5.76564 121.161 6.11081L119.365 5.70172C119.578 5.10513 119.889 4.62359 120.298 4.25712C120.712 3.88638 121.187 3.61791 121.724 3.45172C122.261 3.28126 122.825 3.19604 123.418 3.19604C123.81 3.19604 124.225 3.24291 124.664 3.33666C125.107 3.42615 125.521 3.59234 125.904 3.83524C126.292 4.07814 126.609 4.42544 126.857 4.87714C127.104 5.32459 127.227 5.90626 127.227 6.62217V13.1421H125.361V11.7997H125.284C125.161 12.0469 124.975 12.2898 124.728 12.5284C124.481 12.7671 124.163 12.9652 123.776 13.1229C123.388 13.2806 122.923 13.3594 122.382 13.3594ZM122.798 11.8253C123.326 11.8253 123.778 11.7209 124.153 11.5121C124.532 11.3033 124.82 11.0306 125.016 10.6939C125.216 10.353 125.316 9.98865 125.316 9.60087V8.33524C125.248 8.40342 125.116 8.46734 124.92 8.527C124.728 8.5824 124.509 8.63141 124.261 8.67402C124.014 8.71237 123.773 8.74859 123.539 8.78268C123.305 8.81251 123.109 8.83808 122.951 8.85939C122.58 8.90626 122.241 8.9851 121.935 9.09589C121.632 9.20669 121.389 9.36649 121.206 9.5753C121.027 9.77984 120.937 10.0526 120.937 10.3935C120.937 10.8665 121.112 11.2244 121.462 11.4673C121.811 11.706 122.256 11.8253 122.798 11.8253ZM129.773 13.1421V3.32388H133.845C134.953 3.32388 135.83 3.56038 136.478 4.03339C137.126 4.50214 137.45 5.13922 137.45 5.94462C137.45 6.5199 137.267 6.97587 136.9 7.31251C136.534 7.64916 136.048 7.87501 135.443 7.99007C135.882 8.04121 136.284 8.17331 136.651 8.38638C137.017 8.59518 137.311 8.87643 137.533 9.23013C137.759 9.58382 137.872 10.0057 137.872 10.4958C137.872 11.0156 137.737 11.4759 137.469 11.8764C137.2 12.2727 136.811 12.5838 136.299 12.8097C135.792 13.0313 135.181 13.1421 134.465 13.1421H129.773ZM131.569 11.544H134.465C134.938 11.544 135.308 11.4311 135.577 11.2053C135.845 10.9794 135.98 10.6726 135.98 10.2848C135.98 9.82885 135.845 9.47089 135.577 9.21095C135.308 8.94675 134.938 8.81464 134.465 8.81464H131.569V11.544ZM131.569 7.41479H133.864C134.222 7.41479 134.529 7.36365 134.784 7.26138C135.044 7.1591 135.242 7.01422 135.379 6.82672C135.519 6.63496 135.59 6.4091 135.59 6.14916C135.59 5.7699 135.434 5.47374 135.123 5.26067C134.812 5.0476 134.386 4.94106 133.845 4.94106H131.569V7.41479ZM139.418 4.97302V3.32388H147.703V4.97302H144.5V13.1421H142.634V4.97302H139.418ZM153.403 13.3402C152.482 13.3402 151.679 13.1293 150.993 12.7074C150.307 12.2855 149.774 11.6953 149.395 10.9368C149.016 10.1783 148.826 9.29192 148.826 8.27771C148.826 7.25925 149.016 6.36862 149.395 5.60584C149.774 4.84305 150.307 4.25072 150.993 3.82885C151.679 3.40697 152.482 3.19604 153.403 3.19604C154.323 3.19604 155.126 3.40697 155.812 3.82885C156.499 4.25072 157.031 4.84305 157.411 5.60584C157.79 6.36862 157.979 7.25925 157.979 8.27771C157.979 9.29192 157.79 10.1783 157.411 10.9368C157.031 11.6953 156.499 12.2855 155.812 12.7074C155.126 13.1293 154.323 13.3402 153.403 13.3402ZM153.409 11.7358C154.006 11.7358 154.5 11.5781 154.892 11.2628C155.284 10.9475 155.574 10.5277 155.761 10.0036C155.953 9.47942 156.049 8.902 156.049 8.27132C156.049 7.6449 155.953 7.06962 155.761 6.54547C155.574 6.01706 155.284 5.59305 154.892 5.27345C154.5 4.95385 154.006 4.79405 153.409 4.79405C152.808 4.79405 152.31 4.95385 151.913 5.27345C151.521 5.59305 151.229 6.01706 151.038 6.54547C150.85 7.06962 150.756 7.6449 150.756 8.27132C150.756 8.902 150.85 9.47942 151.038 10.0036C151.229 10.5277 151.521 10.9475 151.913 11.2628C152.31 11.5781 152.808 11.7358 153.409 11.7358ZM160.113 16.8239V3.32388H161.979V4.9155H162.139C162.25 4.71095 162.41 4.47445 162.618 4.20598C162.827 3.93751 163.117 3.70314 163.488 3.50285C163.858 3.29831 164.349 3.19604 164.958 3.19604C165.751 3.19604 166.458 3.39632 167.08 3.79689C167.702 4.19746 168.19 4.77487 168.544 5.52913C168.902 6.28339 169.081 7.19106 169.081 8.25214C169.081 9.31322 168.904 10.223 168.55 10.9815C168.197 11.7358 167.711 12.3175 167.093 12.7266C166.475 13.1314 165.77 13.3338 164.977 13.3338C164.38 13.3338 163.893 13.2337 163.513 13.0334C163.138 12.8331 162.844 12.5987 162.631 12.3303C162.418 12.0618 162.254 11.8232 162.139 11.6144H162.024V16.8239H160.113ZM161.986 8.23297C161.986 8.92331 162.086 9.52842 162.286 10.0483C162.486 10.5682 162.776 10.9752 163.155 11.2692C163.535 11.559 163.999 11.7038 164.549 11.7038C165.12 11.7038 165.597 11.5526 165.981 11.25C166.364 10.9432 166.654 10.5277 166.85 10.0036C167.05 9.47942 167.15 8.88922 167.15 8.23297C167.15 7.58524 167.052 7.00356 166.856 6.48794C166.665 5.97231 166.375 5.56535 165.987 5.26706C165.604 4.96876 165.124 4.81962 164.549 4.81962C163.995 4.81962 163.526 4.96237 163.143 5.24788C162.763 5.53339 162.476 5.93183 162.28 6.4432C162.084 6.95456 161.986 7.55115 161.986 8.23297ZM173.095 10.4638L177.422 3.32388H179.481V13.1421H177.608V5.99575L173.3 13.1421H171.222V3.32388H173.095V10.4638ZM181.469 10.5469H183.425C183.45 10.9475 183.631 11.2564 183.968 11.4737C184.309 11.6911 184.75 11.7997 185.291 11.7997C185.841 11.7997 186.309 11.6825 186.697 11.4482C187.085 11.2095 187.279 10.8409 187.279 10.3423C187.279 10.044 187.204 9.7841 187.055 9.56251C186.91 9.33666 186.704 9.16195 186.435 9.03837C186.171 8.91479 185.858 8.853 185.496 8.853H183.898V7.35087H185.496C186.037 7.35087 186.442 7.22729 186.71 6.98013C186.979 6.73297 187.113 6.42402 187.113 6.05328C187.113 5.65271 186.968 5.33098 186.678 5.08808C186.393 4.84092 185.994 4.71734 185.483 4.71734C184.963 4.71734 184.53 4.83453 184.185 5.06891C183.84 5.29902 183.659 5.59731 183.642 5.96379H181.711C181.724 5.41408 181.89 4.93254 182.21 4.51919C182.534 4.10158 182.969 3.77771 183.514 3.5476C184.064 3.31322 184.688 3.19604 185.387 3.19604C186.116 3.19604 186.746 3.31322 187.279 3.5476C187.812 3.78197 188.223 4.10584 188.513 4.51919C188.807 4.93254 188.954 5.40768 188.954 5.94462C188.954 6.48581 188.792 6.92899 188.468 7.27416C188.148 7.61507 187.731 7.8601 187.215 8.00925V8.11152C187.594 8.13709 187.931 8.25214 188.225 8.45669C188.519 8.66124 188.749 8.93183 188.915 9.26848C189.081 9.60513 189.165 9.98652 189.165 10.4127C189.165 11.0135 188.998 11.5334 188.666 11.9723C188.338 12.4112 187.882 12.75 187.298 12.9887C186.719 13.223 186.056 13.3402 185.31 13.3402C184.586 13.3402 183.936 13.2273 183.361 13.0014C182.79 12.7713 182.336 12.4475 181.999 12.0298C181.667 11.6122 181.49 11.1179 181.469 10.5469ZM193.011 10.4638L197.338 3.32388H199.397V13.1421H197.524V5.99575L193.216 13.1421H191.138V3.32388H193.011V10.4638ZM201.966 16.8239V3.32388H203.833V4.9155H203.993C204.103 4.71095 204.263 4.47445 204.472 4.20598C204.681 3.93751 204.971 3.70314 205.341 3.50285C205.712 3.29831 206.202 3.19604 206.811 3.19604C207.604 3.19604 208.311 3.39632 208.934 3.79689C209.556 4.19746 210.044 4.77487 210.397 5.52913C210.755 6.28339 210.934 7.19106 210.934 8.25214C210.934 9.31322 210.757 10.223 210.404 10.9815C210.05 11.7358 209.564 12.3175 208.946 12.7266C208.328 13.1314 207.623 13.3338 206.831 13.3338C206.234 13.3338 205.746 13.2337 205.367 13.0334C204.992 12.8331 204.698 12.5987 204.485 12.3303C204.272 12.0618 204.108 11.8232 203.993 11.6144H203.877V16.8239H201.966ZM203.839 8.23297C203.839 8.92331 203.939 9.52842 204.14 10.0483C204.34 10.5682 204.63 10.9752 205.009 11.2692C205.388 11.559 205.853 11.7038 206.402 11.7038C206.973 11.7038 207.451 11.5526 207.834 11.25C208.218 10.9432 208.507 10.5277 208.703 10.0036C208.904 9.47942 209.004 8.88922 209.004 8.23297C209.004 7.58524 208.906 7.00356 208.71 6.48794C208.518 5.97231 208.228 5.56535 207.841 5.26706C207.457 4.96876 206.978 4.81962 206.402 4.81962C205.848 4.81962 205.38 4.96237 204.996 5.24788C204.617 5.53339 204.329 5.93183 204.133 6.4432C203.937 6.95456 203.839 7.55115 203.839 8.23297ZM213.95 16.8239C213.664 16.8239 213.404 16.8004 213.17 16.7536C212.936 16.711 212.761 16.6641 212.646 16.6129L213.106 15.0469C213.455 15.1406 213.767 15.1811 214.039 15.1683C214.312 15.1556 214.553 15.0533 214.762 14.8615C214.975 14.6698 215.162 14.3565 215.324 13.9219L215.561 13.2699L211.968 3.32388H214.014L216.5 10.9432H216.602L219.089 3.32388H221.141L217.095 14.4524C216.907 14.9638 216.668 15.3963 216.379 15.75C216.089 16.108 215.744 16.3764 215.343 16.5554C214.943 16.7344 214.478 16.8239 213.95 16.8239ZM224.81 10.4638L229.137 3.32388H231.195V13.1421H229.323V5.99575L225.014 13.1421H222.937V3.32388H224.81V10.4638ZM228.319 1.29938e-05H229.892C229.892 0.720184 229.636 1.30612 229.124 1.75783C228.617 2.20527 227.931 2.42899 227.066 2.42899C226.205 2.42899 225.521 2.20527 225.014 1.75783C224.507 1.30612 224.254 0.720184 224.254 1.29938e-05H225.82C225.82 0.319616 225.914 0.602996 226.101 0.850155C226.289 1.09305 226.61 1.2145 227.066 1.2145C227.514 1.2145 227.833 1.09305 228.025 0.850155C228.221 0.607258 228.319 0.323877 228.319 1.29938e-05ZM232.547 4.97302V3.32388H240.831V4.97302H237.629V13.1421H235.763V4.97302H232.547ZM246.627 13.3402C245.66 13.3402 244.827 13.1335 244.128 12.7202C243.434 12.3026 242.897 11.7166 242.517 10.9624C242.142 10.2038 241.955 9.31535 241.955 8.29689C241.955 7.29121 242.142 6.40484 242.517 5.6378C242.897 4.87075 243.425 4.27203 244.103 3.84163C244.784 3.41124 245.581 3.19604 246.493 3.19604C247.047 3.19604 247.584 3.28766 248.104 3.47089C248.624 3.65413 249.091 3.94178 249.504 4.33382C249.917 4.72587 250.243 5.2351 250.482 5.86152C250.721 6.48368 250.84 7.24007 250.84 8.1307V8.80825H243.035V7.37643H248.967C248.967 6.87359 248.865 6.42828 248.66 6.0405C248.456 5.64845 248.168 5.3395 247.797 5.11365C247.431 4.8878 247 4.77487 246.506 4.77487C245.969 4.77487 245.5 4.90697 245.1 5.17118C244.703 5.43112 244.397 5.77203 244.179 6.19391C243.966 6.61152 243.86 7.06535 243.86 7.55541V8.67402C243.86 9.33027 243.975 9.88851 244.205 10.3487C244.439 10.809 244.765 11.1605 245.183 11.4034C245.6 11.6421 246.088 11.7614 246.647 11.7614C247.009 11.7614 247.339 11.7102 247.637 11.608C247.936 11.5014 248.194 11.3438 248.411 11.135C248.628 10.9262 248.794 10.6683 248.909 10.3615L250.718 10.6875C250.574 11.2202 250.314 11.6868 249.939 12.0874C249.568 12.4837 249.101 12.7926 248.539 13.0142C247.98 13.2315 247.343 13.3402 246.627 13.3402ZM257.096 13.3402C256.146 13.3402 255.328 13.125 254.642 12.6946C253.96 12.26 253.436 11.6612 253.069 10.8985C252.703 10.1357 252.519 9.26209 252.519 8.27771C252.519 7.28055 252.707 6.40058 253.082 5.6378C253.457 4.87075 253.985 4.27203 254.667 3.84163C255.349 3.41124 256.152 3.19604 257.077 3.19604C257.823 3.19604 258.487 3.33453 259.071 3.61152C259.655 3.88425 260.126 4.26777 260.484 4.76209C260.846 5.25641 261.061 5.83382 261.129 6.49433H259.269C259.167 6.0341 258.933 5.6378 258.566 5.30541C258.204 4.97303 257.718 4.80683 257.109 4.80683C256.576 4.80683 256.11 4.94746 255.709 5.22871C255.313 5.5057 255.004 5.902 254.782 6.41763C254.561 6.92899 254.45 7.5341 254.45 8.23297C254.45 8.94888 254.558 9.56678 254.776 10.0867C254.993 10.6065 255.3 11.0092 255.696 11.2948C256.097 11.5803 256.568 11.723 257.109 11.723C257.471 11.723 257.799 11.657 258.093 11.5249C258.392 11.3885 258.641 11.1946 258.841 10.9432C259.046 10.6918 259.188 10.3892 259.269 10.0355H261.129C261.061 10.6705 260.855 11.2372 260.509 11.7358C260.164 12.2344 259.702 12.6264 259.122 12.9119C258.547 13.1975 257.872 13.3402 257.096 13.3402ZM264.612 6.69888H267.462C268.664 6.69888 269.589 6.99717 270.237 7.59376C270.884 8.19035 271.208 8.95953 271.208 9.90129C271.208 10.5149 271.063 11.0668 270.773 11.5568C270.484 12.0469 270.06 12.4347 269.501 12.7202C268.943 13.0014 268.263 13.1421 267.462 13.1421H263.173V3.32388H265.046V11.4929H267.462C268.012 11.4929 268.464 11.3502 268.817 11.0646C269.171 10.7749 269.348 10.4063 269.348 9.95882C269.348 9.48581 269.171 9.10016 268.817 8.80186C268.464 8.4993 268.012 8.34802 267.462 8.34802H264.612V6.69888Z" fill="#E0E0E0"/>
              </g>
            </svg>
          </div>

          {/* Form */}
          <form onSubmit={handleSubmit} noValidate className="login-form">
            <div className="login-fields">
              {/* Username */}
              <div className="login-field">
                <label htmlFor="login-username">Логин</label>
                <div className={`login-input-wrap${usernameError ? ' error' : ''}`}>
                  <img src={userIcon} alt="" className="login-input-icon" />
                  <input
                    id="login-username"
                    type="text"
                    autoComplete="username"
                    aria-invalid={!!usernameError}
                    value={username}
                    onChange={(e) => setUsername(e.target.value)}
                    onBlur={() => setTouched((t) => ({ ...t, username: true }))}
                  />
                  {username && (
                    <button
                      type="button"
                      onClick={() => setUsername('')}
                      className="login-input-clear"
                      aria-label="Очистить логин"
                    >
                      <img src={closeSvg} alt="" width={14} height={16} />
                    </button>
                  )}
                </div>
                {usernameError && (
                  <span className="login-error" aria-live="polite">{usernameError}</span>
                )}
              </div>

              {/* Password */}
              <div className="login-field">
                <label htmlFor="login-password">Пароль</label>
                <div className={`login-input-wrap${passwordError ? ' error' : ''}`}>
                  <img src={lockSvg} alt="" className="login-input-icon" />
                  <input
                    id="login-password"
                    type={showPassword ? 'text' : 'password'}
                    autoComplete="current-password"
                    aria-invalid={!!passwordError}
                    value={password}
                    onChange={(e) => setPassword(e.target.value)}
                    onBlur={() => setTouched((t) => ({ ...t, password: true }))}
                  />
                  <button
                    type="button"
                    onClick={() => setShowPassword(!showPassword)}
                    className="login-input-action"
                    aria-label={showPassword ? 'Скрыть пароль' : 'Показать пароль'}
                  >
                    <img src={showPassword ? eyeSvg : eyeOffSvg} alt="" width={24} height={24} />
                  </button>
                </div>
                {passwordError && (
                  <span className="login-error" aria-live="polite">{passwordError}</span>
                )}
              </div>
            </div>

            {/* API error */}
            {error && <span className="login-api-error" aria-live="polite">{error}</span>}

            {/* Remember */}
            <label className="login-remember" htmlFor="login-remember">
              <span className="login-checkbox" aria-hidden="true">
                {rememberMe ? (
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <rect x="3" y="3" width="18" height="18" rx="4" fill="#242EDB" stroke="#242EDB" strokeWidth="2" />
                    <path d="M8 12L11 15L16 9" stroke="#fff" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                  </svg>
                ) : (
                  <img src={squareSvg} alt="" width={24} height={24} />
                )}
              </span>
              <span className="login-remember-text">Запомнить данные</span>
              <input
                id="login-remember"
                type="checkbox"
                className="sr-only"
                checked={rememberMe}
                onChange={(e) => setRememberMe(e.target.checked)}
              />
            </label>

            {/* Actions */}
            <div className="login-actions">
              <button type="submit" disabled={isLoading} className="login-submit">
                {isLoading ? 'Вход...' : 'Войти'}
              </button>

              <div className="login-divider">
                <span />
                <p>или</p>
                <span />
              </div>
            </div>
          </form>

          {/* Register */}
          <p className="login-register">
            Нет аккаунта?{' '}
            <a href="#">Создать</a>
          </p>
        </div>
      </div>
    </div>
  );
};
